{% extends "account/base.html" %}
{% load i18n %}

{% block title %}{% trans "Sign In" %}{% endblock %}

{% block content %}
<h1 id="page-title">{% trans "Sign In" %}</h1>

{% if form.non_field_errors %}
<div role="alert" aria-labelledby="error-heading">
    <h2 id="error-heading" class="sr-only">{% trans "Form errors" %}</h2>
    <ul class="errorlist">
        {% for error in form.non_field_errors %}
        <li>{{ error }}</li>
        {% endfor %}
    </ul>
</div>
{% endif %}

<form method="post" action="{% url 'account_login' %}" aria-labelledby="page-title" novalidate>
    {% csrf_token %}

    <div class="field-group">
        <label for="id_login">{% trans "Username or Email" %}</label>
        <input type="text"
               name="login"
               id="id_login"
               placeholder="{% trans 'Username or email' %}"
               value="{{ form.login.value|default:'' }}"
               required
               autofocus
               autocomplete="username"
               {% if form.login.errors %}aria-invalid="true" aria-describedby="login-error"{% endif %}>
        {% if form.login.errors %}
        <div id="login-error" role="alert">
            <ul class="errorlist">
                {% for error in form.login.errors %}
                <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </div>

    <div class="field-group">
        <label for="id_password">{% trans "Password" %}</label>
        <input type="password"
               name="password"
               id="id_password"
               placeholder="{% trans 'Password' %}"
               required
               autocomplete="current-password"
               {% if form.password.errors %}aria-invalid="true" aria-describedby="password-error"{% endif %}>
        {% if form.password.errors %}
        <div id="password-error" role="alert">
            <ul class="errorlist">
                {% for error in form.password.errors %}
                <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </div>

    <div class="checkbox-row">
        <input type="checkbox" name="remember" id="id_remember">
        <label for="id_remember">{% trans "Remember me" %}</label>
    </div>

    {% if redirect_field_value %}
    <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}">
    {% endif %}

    <button type="submit">{% trans "Sign In" %}</button>
</form>

<nav class="links" aria-label="{% trans 'Additional options' %}">
    <a href="{% url 'account_reset_password' %}">{% trans "Forgot password?" %}</a>
</nav>
{% endblock %}
